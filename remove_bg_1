import numpy as np
import matplotlib.pyplot as plt
from skimage import io, color, filters, morphology, util

image = io.imread('./img.jpg')

gray = color.rgb2gray(image)

thresh = filters.threshold_otsu(gray)
binary = gray < thresh

selem = morphology.square(3)
binary = morphology.opening(binary, selem)

binary = util.invert(binary)

# Save or display the result
io.imsave('cleaned_text.png', util.img_as_ubyte(binary))
plt.imshow(binary, cmap='gray')
plt.title('Cleaned Text')
plt.axis('off')
plt.show()
